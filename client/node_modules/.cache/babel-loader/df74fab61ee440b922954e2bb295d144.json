{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jasmi\\\\where-do-you-vibe\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Map from './components/Map.js';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport cities from './places.json'; //import './components/UserGenresTemplate.js';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst spotifyApi = new SpotifyWebApi();\n\nvar findCities = require('../src/compare-artists');\n\nclass App extends Component {\n  constructor() {\n    //This reads the token from the url, token allows us access to user info\n    super();\n    const params = this.getHashParams();\n    const token = params.access_token;\n\n    if (token) {\n      spotifyApi.setAccessToken(token);\n    }\n\n    this.state = {\n      //sets state, allows us to know if someone is logged in and their name\n      loggedIn: token ? true : false,\n      displayTitle: \"Where's your vibe?\",\n      topGenre: {},\n      topCity: '',\n      allCities: cities\n    };\n    var c = this.state.loggedIn ? this.getUserInfo() : \"\";\n    console.log(this.state.topCity);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    e = r.exec(q);\n\n    while (e) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n\n    return hashParams;\n  }\n\n  getUserInfo() {\n    //call to get user infomation from spotify api\n    spotifyApi.getMe().then(data => {\n      this.setState({\n        user: {\n          displayName: data.display_name\n        }\n      });\n    });\n  }\n\n  getGenreInfo() {\n    spotifyApi.getMyTopArtists({\n      time_range: 'medium_term',\n      limit: 20\n    }).then(data => {\n      console.log(findCities.findCities(data, this.state.allCities));\n      this.setState({\n        topGenre: data,\n        topCity: findCities.findCities(data, this.state.allCities)\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"87px\",\n          color: \"#1250B5\"\n        },\n        children: this.state.displayTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://everynoise.com/everyplace.cgi\",\n        style: {\n          fontSize: \"36px\",\n          color: \"#923307\",\n          textDecoration: \"none\"\n        },\n        children: \"Based on data from \\\"Every Place at Once\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"http://localhost:8888/login\",\n        style: {\n          marginTop: \"10px\",\n          color: \"white\",\n          backgroundColor: \"#1db954\",\n          borderRadius: \"46px\",\n          textDecoration: \"none\",\n          height: \"32px\",\n          width: \"200px\",\n          fontSize: \"24px\",\n          textAlign: \"center\",\n          verticalAlign: \"middle\",\n          padding: \"5px\"\n        },\n        children: \" Login to Spotify \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), this.state.loggedIn && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => this.getGenreInfo(),\n        style: {\n          marginTop: \"10px\",\n          color: \"white\",\n          backgroundColor: \"#1db954\",\n          borderRadius: \"46px\",\n          textDecoration: \"none\",\n          height: \"32px\",\n          width: \"200px\",\n          fontSize: \"24px\",\n          textAlign: \"center\",\n          verticalAlign: \"middle\",\n          padding: \"5px\"\n        },\n        children: \"Get your genres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.state.topCity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Map, {\n          cityLocations: \"\",\n          lat_lan: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/jasmi/where-do-you-vibe/client/src/App.js"],"names":["React","Component","Map","SpotifyWebApi","cities","spotifyApi","findCities","require","App","constructor","params","getHashParams","token","access_token","setAccessToken","state","loggedIn","displayTitle","topGenre","topCity","allCities","c","getUserInfo","console","log","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","getMe","then","data","setState","user","displayName","display_name","getGenreInfo","getMyTopArtists","time_range","limit","render","fontSize","color","textDecoration","marginTop","backgroundColor","borderRadius","height","width","textAlign","verticalAlign","padding"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nimport Map from './components/Map.js'\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\nimport cities from './places.json';\r\n\r\n//import './components/UserGenresTemplate.js';\r\n\r\n\r\nconst spotifyApi = new SpotifyWebApi();\r\nvar findCities = require('../src/compare-artists');\r\n\r\nclass App extends Component {\r\n  constructor(){ //This reads the token from the url, token allows us access to user info\r\n    super();\r\n    const params = this.getHashParams();\r\n    const token = params.access_token;\r\n    if (token) {\r\n      spotifyApi.setAccessToken(token);\r\n    }\r\n    this.state = { //sets state, allows us to know if someone is logged in and their name\r\n      loggedIn: token ? true : false,\r\n      displayTitle:\"Where's your vibe?\",\r\n      topGenre: {},\r\n      topCity: '',\r\n      allCities: cities,\r\n    }\r\n    var c = this.state.loggedIn ? this.getUserInfo() : \"\";\r\n  console.log(this.state.topCity)\r\n  };\r\n\r\n \r\n  getHashParams(){\r\n    var hashParams = {};\r\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\r\n        q = window.location.hash.substring(1);\r\n    e = r.exec(q)\r\n    while (e) {\r\n       hashParams[e[1]] = decodeURIComponent(e[2]);\r\n       e = r.exec(q);\r\n    }\r\n    return hashParams;\r\n  };\r\n\r\n  getUserInfo(){ //call to get user infomation from spotify api\r\n      spotifyApi.getMe()\r\n      .then((data) => {\r\n        this.setState({\r\n          user: { \r\n              displayName: data.display_name, \r\n            }\r\n        });\r\n      });  \r\n  };\r\n\r\n  \r\ngetGenreInfo(){\r\n  spotifyApi.getMyTopArtists({time_range: 'medium_term', limit: 20})\r\n  .then((data)=>{\r\n    console.log(findCities.findCities(data, this.state.allCities));\r\n     this.setState({\r\n       topGenre: data,\r\n       topCity: findCities.findCities(data, this.state.allCities),\r\n    });     \r\n   });\r\n\r\n}\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div style = {{\r\n          fontSize: \"87px\",\r\n          color: \"#1250B5\"\r\n        }}>\r\n          { this.state.displayTitle }\r\n        </div>\r\n\r\n        <a href=\"https://everynoise.com/everyplace.cgi\" style = {{\r\n          fontSize: \"36px\",\r\n          color: \"#923307\",\r\n          textDecoration: \"none\",\r\n        }}>Based on data from \"Every Place at Once\"</a>\r\n\r\n        <a href='http://localhost:8888/login' style ={{\r\n          marginTop: \"10px\",\r\n          color: \"white\",\r\n          backgroundColor: \"#1db954\",\r\n          borderRadius: \"46px\",\r\n          textDecoration: \"none\",\r\n          height: \"32px\",\r\n          width: \"200px\",\r\n          fontSize: \"24px\",\r\n          textAlign: \"center\",\r\n          verticalAlign: \"middle\",\r\n          padding: \"5px\"\r\n        }}> Login to Spotify </a>\r\n        \r\n      { this.state.loggedIn &&\r\n        <button onClick={() => this.getGenreInfo()} style={{\r\n          marginTop: \"10px\",\r\n          color: \"white\",\r\n          backgroundColor: \"#1db954\",\r\n          borderRadius: \"46px\",\r\n          textDecoration: \"none\",\r\n          height: \"32px\",\r\n          width: \"200px\",\r\n          fontSize: \"24px\",\r\n          textAlign: \"center\",\r\n          verticalAlign: \"middle\",\r\n          padding: \"5px\"\r\n        }}>\r\n         Get your genres\r\n        </button>\r\n      }\r\n      <div>\r\n        {this.state.topCity}\r\n      </div>\r\n \r\n      <div>\r\n      <Map cityLocations = {\"\"} lat_lan={\"\"}/>\r\n      </div>\r\n       \r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}